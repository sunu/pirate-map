!function(t){function e(i){if(a[i])return a[i].exports;var n=a[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var a={};e.m=t,e.c=a,e.i=function(t){return t},e.d=function(t,a,i){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e,a){"use strict";function i(t){n(t),o(t),r(t),h(t)}function n(t){var e=t.getContext("2d"),a=0,i=void 0,n=void 0;for(e.save(),e.beginPath(),e.moveTo(0,t.height),n=(Math.floor(3*Math.random())+95)/100*t.height,e.lineTo(0,n);a<=t.width;)i=Math.floor(3*Math.random())/100*t.width,n=(Math.floor(3*Math.random())+95)/100*t.height,a+=i,e.lineTo(a,n);e.lineTo(t.width,t.height),e.closePath(),e.clip(),e.beginPath(),e.fillStyle="white",e.rect(0,0,t.width,t.height),e.fill(),e.restore()}function o(t){var e=t.getContext("2d"),a=0,i=void 0,n=void 0;for(e.save(),e.beginPath(),e.moveTo(0,0),n=(Math.floor(3*Math.random())+1)/100*t.height,e.lineTo(0,n);a<=t.width;)i=Math.floor(3*Math.random())/100*t.width,n=(Math.floor(3*Math.random())+1)/100*t.height,a+=i,e.lineTo(a,n);e.lineTo(t.width,0),e.closePath(),e.clip(),e.beginPath(),e.fillStyle="white",e.rect(0,0,t.width,t.height),e.fill(),e.restore()}function r(t){var e=t.getContext("2d"),a=0,i=void 0,n=void 0;for(e.save(),e.beginPath(),e.moveTo(0,0),i=(Math.floor(3*Math.random())+1)/100*t.width,e.lineTo(i,0);a<=t.height;)i=(Math.floor(3*Math.random())+1)/100*t.width,n=Math.floor(3*Math.random())/100*t.height,a+=n,e.lineTo(i,a);e.lineTo(0,t.height),e.closePath(),e.clip(),e.beginPath(),e.fillStyle="white",e.rect(0,0,t.width,t.height),e.fill(),e.restore()}function h(t){var e=t.getContext("2d"),a=0,i=void 0,n=void 0;for(e.save(),e.beginPath(),e.moveTo(t.width,0),i=(Math.floor(3*Math.random())+1)/100*t.width,e.lineTo(i,0);a<=t.height;)i=(Math.floor(3*Math.random())+95)/100*t.width,n=Math.floor(3*Math.random())/100*t.height,a+=n,e.lineTo(i,a);e.lineTo(t.width,t.height),e.closePath(),e.clip(),e.beginPath(),e.fillStyle="white",e.rect(0,0,t.width,t.height),e.fill(),e.restore()}function s(t,e){return Math.floor(Math.random()*(e-t))+t}function l(t){return t[Math.floor(Math.random()*t.length)]}function f(){for(var t=["b","c","d","f","g","h","j","k","l","m","n","p","r","s","t","v","w","x","y","z"],e=["a","e","i","o","u"],a=s(2,5),i="",n=0;n<a;)i=i+l(t)+l(e),n++;return i.charAt(0).toUpperCase()+i.slice(1)}Object.defineProperty(e,"__esModule",{value:!0}),e.tearCanvasBorders=i,e.getRandomInt=s,e.getRandomSample=l,e.getRandomName=f},function(t,e,a){var i;!function(){"use strict";function n(t){t||(t=Math.random),this.p=o(t),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var e=0;e<512;e++)this.perm[e]=this.p[255&e],this.permMod12[e]=this.perm[e]%12}function o(t){var e,a=new Uint8Array(256);for(e=0;e<256;e++)a[e]=e;for(e=0;e<255;e++){var i=e+1+~~(t()*(255-e)),n=a[e];a[e]=a[i],a[i]=n}return a}var r=.5*(Math.sqrt(3)-1),h=(3-Math.sqrt(3))/6,s=1/6,l=(Math.sqrt(5)-1)/4,f=(5-Math.sqrt(5))/20;n.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(t,e){var a,i,n=this.permMod12,o=this.perm,s=this.grad3,l=0,f=0,v=0,c=(t+e)*r,d=Math.floor(t+c),u=Math.floor(e+c),g=(d+u)*h,m=d-g,p=u-g,w=t-m,M=e-p;w>M?(a=1,i=0):(a=0,i=1);var T=w-a+h,y=M-i+h,b=w-1+2*h,x=M-1+2*h,P=255&d,C=255&u,S=.5-w*w-M*M;if(S>=0){var N=3*n[P+o[C]];S*=S,l=S*S*(s[N]*w+s[N+1]*M)}var E=.5-T*T-y*y;if(E>=0){var D=3*n[P+a+o[C+i]];E*=E,f=E*E*(s[D]*T+s[D+1]*y)}var B=.5-b*b-x*x;if(B>=0){var R=3*n[P+1+o[C+1]];B*=B,v=B*B*(s[R]*b+s[R+1]*x)}return 70*(l+f+v)},noise3D:function(t,e,a){var i,n,o,r,h,l,f,v,c,d,u=this.permMod12,g=this.perm,m=this.grad3,p=(t+e+a)*(1/3),w=Math.floor(t+p),M=Math.floor(e+p),T=Math.floor(a+p),y=(w+M+T)*s,b=w-y,x=M-y,P=T-y,C=t-b,S=e-x,N=a-P;C>=S?S>=N?(h=1,l=0,f=0,v=1,c=1,d=0):C>=N?(h=1,l=0,f=0,v=1,c=0,d=1):(h=0,l=0,f=1,v=1,c=0,d=1):S<N?(h=0,l=0,f=1,v=0,c=1,d=1):C<N?(h=0,l=1,f=0,v=0,c=1,d=1):(h=0,l=1,f=0,v=1,c=1,d=0);var E=C-h+s,D=S-l+s,B=N-f+s,R=C-v+2*s,k=S-c+2*s,F=N-d+2*s,A=C-1+.5,_=S-1+.5,O=N-1+.5,j=255&w,q=255&M,I=255&T,L=.6-C*C-S*S-N*N;if(L<0)i=0;else{var U=3*u[j+g[q+g[I]]];L*=L,i=L*L*(m[U]*C+m[U+1]*S+m[U+2]*N)}var W=.6-E*E-D*D-B*B;if(W<0)n=0;else{var H=3*u[j+h+g[q+l+g[I+f]]];W*=W,n=W*W*(m[H]*E+m[H+1]*D+m[H+2]*B)}var z=.6-R*R-k*k-F*F;if(z<0)o=0;else{var J=3*u[j+v+g[q+c+g[I+d]]];z*=z,o=z*z*(m[J]*R+m[J+1]*k+m[J+2]*F)}var G=.6-A*A-_*_-O*O;if(G<0)r=0;else{var K=3*u[j+1+g[q+1+g[I+1]]];G*=G,r=G*G*(m[K]*A+m[K+1]*_+m[K+2]*O)}return 32*(i+n+o+r)},noise4D:function(t,e,a,i){var n,o,r,h,s,v=(this.permMod12,this.perm),c=this.grad4,d=(t+e+a+i)*l,u=Math.floor(t+d),g=Math.floor(e+d),m=Math.floor(a+d),p=Math.floor(i+d),w=(u+g+m+p)*f,M=u-w,T=g-w,y=m-w,b=p-w,x=t-M,P=e-T,C=a-y,S=i-b,N=0,E=0,D=0,B=0;x>P?N++:E++,x>C?N++:D++,x>S?N++:B++,P>C?E++:D++,P>S?E++:B++,C>S?D++:B++;var R,k,F,A,_,O,j,q,I,L,U,W;R=N>=3?1:0,k=E>=3?1:0,F=D>=3?1:0,A=B>=3?1:0,_=N>=2?1:0,O=E>=2?1:0,j=D>=2?1:0,q=B>=2?1:0,I=N>=1?1:0,L=E>=1?1:0,U=D>=1?1:0,W=B>=1?1:0;var H=x-R+f,z=P-k+f,J=C-F+f,G=S-A+f,K=x-_+2*f,Q=P-O+2*f,V=C-j+2*f,X=S-q+2*f,Y=x-I+3*f,Z=P-L+3*f,$=C-U+3*f,tt=S-W+3*f,et=x-1+4*f,at=P-1+4*f,it=C-1+4*f,nt=S-1+4*f,ot=255&u,rt=255&g,ht=255&m,st=255&p,lt=.6-x*x-P*P-C*C-S*S;if(lt<0)n=0;else{var ft=v[ot+v[rt+v[ht+v[st]]]]%32*4;lt*=lt,n=lt*lt*(c[ft]*x+c[ft+1]*P+c[ft+2]*C+c[ft+3]*S)}var vt=.6-H*H-z*z-J*J-G*G;if(vt<0)o=0;else{var ct=v[ot+R+v[rt+k+v[ht+F+v[st+A]]]]%32*4;vt*=vt,o=vt*vt*(c[ct]*H+c[ct+1]*z+c[ct+2]*J+c[ct+3]*G)}var dt=.6-K*K-Q*Q-V*V-X*X;if(dt<0)r=0;else{var ut=v[ot+_+v[rt+O+v[ht+j+v[st+q]]]]%32*4;dt*=dt,r=dt*dt*(c[ut]*K+c[ut+1]*Q+c[ut+2]*V+c[ut+3]*X)}var gt=.6-Y*Y-Z*Z-$*$-tt*tt;if(gt<0)h=0;else{var mt=v[ot+I+v[rt+L+v[ht+U+v[st+W]]]]%32*4;gt*=gt,h=gt*gt*(c[mt]*Y+c[mt+1]*Z+c[mt+2]*$+c[mt+3]*tt)}var pt=.6-et*et-at*at-it*it-nt*nt;if(pt<0)s=0;else{var wt=v[ot+1+v[rt+1+v[ht+1+v[st+1]]]]%32*4;pt*=pt,s=pt*pt*(c[wt]*et+c[wt+1]*at+c[wt+2]*it+c[wt+3]*nt)}return 27*(n+o+r+h+s)}},n._buildPermutationTable=o,void 0!==(i=function(){return n}.call(e,a,e,t))&&(t.exports=i),e.SimplexNoise=n,t.exports=n}()},function(t,e,a){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,a,i){return a&&t(e.prototype,a),i&&t(e,i),e}}(),o=a(1),r=function(t){return t&&t.__esModule?t:{default:t}}(o),h=a(0),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(h),l=function(){function t(){i(this,t);var e=document.getElementsByTagName("canvas")[0];e.width=1e3,e.height=600,this.canvas=e,this.simplex=new r.default,this.drawMap()}return n(t,[{key:"drawCompass",value:function(){var t=this.canvas.getContext("2d"),e=this.canvas.width/5,a=this.canvas.height/5;t.fillStyle="#58B8EB",t.fillStyle="#F00",t.beginPath(),t.fillStyle="#0FDDF5",t.arc(e/2,this.canvas.height-a/2,22,0,36,!1),t.fill(),t.beginPath(),t.fillStyle="#AFEEF9",t.arc(e/2,this.canvas.height-a/2,20,0,36,!1),t.fill(),t.beginPath(),t.moveTo(e/2,this.canvas.height),t.lineTo(e/2-5,this.canvas.height-a/2),t.lineTo(e/2,this.canvas.height-a/2),t.lineTo(e/2,this.canvas.height),t.fillStyle="#DAE1EF",t.fill(),t.beginPath(),t.moveTo(e/2,this.canvas.height),t.lineTo(e/2+5,this.canvas.height-a/2),t.lineTo(e/2,this.canvas.height-a/2),t.lineTo(e/2,this.canvas.height),t.fillStyle="#91AEDC",t.fill(),t.beginPath(),t.moveTo(e/2,this.canvas.height-a),t.lineTo(e/2-5,this.canvas.height-a/2),t.lineTo(e/2,this.canvas.height-a/2),t.lineTo(e/2,this.canvas.height-a),t.fillStyle="#FF532B",t.fill(),t.beginPath(),t.moveTo(e/2,this.canvas.height-a),t.lineTo(e/2+5,this.canvas.height-a/2),t.lineTo(e/2,this.canvas.height-a/2),t.lineTo(e/2,this.canvas.height-a),t.fillStyle="#DC052C",t.fill()}},{key:"generateNoise",value:function(t,e){var a=t/this.canvas.width-.5,i=e/this.canvas.height-.5,n=1*this.simplex.noise2D(1.5*a,1.5*i)+.5*this.simplex.noise2D(3*a,3*i)+.25*this.simplex.noise2D(6*a,6*i)+.125*this.simplex.noise2D(12*a,12*i);n=Math.pow(n,2);var o=Math.hypot(this.canvas.width/2-t,this.canvas.height/2-e)/255;return n=(n+.5)*(1-.6*Math.pow(o,.6)),n*=255}},{key:"drawWaterNames",value:function(){var t=this,e=this.waters.length,a=Math.floor(e/3),i=s.getRandomSample(this.waters.slice(e-a,e).filter(function(e){return e[0]<t.canvas.width-200&&e[1]>100})),n=this.canvas.getContext("2d");n.font='30px "Tangerine"',n.fillStyle="#000",n.fillText(i[2]+" of "+s.getRandomName(),i[0],i[1]);var o=s.getRandomSample(this.waters.slice(0,a).filter(function(t){return t[0]>150&&t[1]>100}));n.font='30px "Tangerine"',n.fillStyle="#000",n.fillText(o[2]+" of "+s.getRandomName(),o[0],o[1])}},{key:"drawPath",value:function(){var t=this.lands.length,e=Math.floor(t/5),a=this.lands[s.getRandomInt(t-e,t)],i=this.canvas.getContext("2d");i.beginPath(),i.strokeStyle="#FF532B",i.lineWidth=5,i.moveTo(a[0]-10,a[1]-10),i.lineTo(a[0]+10,a[1]+10),i.stroke(),i.moveTo(a[0]+10,a[1]-10),i.lineTo(a[0]-10,a[1]+10),i.stroke();for(var n=[],o=0;o<t-e;){var r=this.lands[s.getRandomInt(o,o+e)];n.push(r),i.font='30px "Tangerine"',i.fillStyle="#000",i.fillText(r[2]+" of "+s.getRandomName(),r[0]-10,r[1]-10),o+=e}n.push(a),i.setLineDash([10,10]),i.beginPath(),i.moveTo(n[0][0],n[0][1]);for(var h=1;h<n.length-2;h++){var l=(n[h][0]+n[h+1][0])/2,f=(n[h][1]+n[h+1][1])/2;i.quadraticCurveTo(n[h][0],n[h][1],l,f)}i.quadraticCurveTo(n[h][0],n[h][1],n[h+1][0],n[h+1][1]),i.stroke()}},{key:"drawMap",value:function(){var t=this.canvas.getContext("2d"),e=t.createImageData(this.canvas.width,this.canvas.height),a=e.data;this.lands=[],this.waters=[];for(var i=0;i<this.canvas.width;i++)for(var n=0;n<this.canvas.height;n++){var o=this.generateNoise(i,n),r=4*(i+n*this.canvas.width);o>200?(a[r]=54,a[r+1]=68,a[r+2]=50,a[r+3]=o,this.lands.push([i,n,"Mountains"])):o>150?(a[r]=54,a[r+1]=68,a[r+2]=53,a[r+3]=o,this.lands.push([i,n,"Jungles"])):o>80?(a[r]=54,a[r+1]=68,a[r+2]=53,a[r+3]=o,this.lands.push([i,n,"Plains"])):o>70?(a[r]=0,a[r+1]=113,a[r+2]=185,a[r+3]=(255-o)/1.05):(a[r]=0,a[r+1]=113,a[r+2]=185,a[r+3]=255-o,this.waters.push([i,n,"Bay"]))}t.putImageData(e,0,0),this.drawCompass(),this.drawPath(),this.drawWaterNames(),s.tearCanvasBorders(this.canvas)}}]),t}();window.WebFont.load({google:{families:["Tangerine"]},active:function(){new l}}),document.getElementsByTagName("button")[0].addEventListener("click",function(){var t=document.getElementsByTagName("canvas")[0];t.getContext("2d").clearRect(0,0,t.width,t.height),new l}),document.getElementsByTagName("button")[0].addEventListener("click",function(){var t=document.getElementsByTagName("canvas")[0];t.getContext("2d").clearRect(0,0,t.width,t.height),document.getElementsByTagName("h1")[0].innerHTML="The hidden treasure of Captain "+s.getRandomName(),new l}),document.getElementsByTagName("h1")[0].innerHTML="The hidden treasure of Captain "+s.getRandomName()}]);